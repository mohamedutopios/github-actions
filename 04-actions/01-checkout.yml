# ============================================================
# D√âMO 1/4 ‚Äî Actions : actions/checkout
# ============================================================
# "actions/checkout" est l'action la plus utilis√©e.
# Elle clone votre d√©p√¥t sur la machine du runner.
# Sans elle, votre code n'est pas disponible.
#
# Syntaxe :
#   uses: owner/action@version
#
# Le "@v4" est la version ‚Äî toujours la pr√©ciser !
# ============================================================

name: "13 ¬∑ Action checkout"

on: workflow_dispatch

jobs:
  demo-checkout:
    name: "actions/checkout en action"
    runs-on: ubuntu-latest

    steps:
      # AVANT checkout : le d√©p√¥t n'est pas disponible
      - name: "‚ùå Avant checkout ‚Äî dossier vide"
        run: |
          echo "Fichiers disponibles avant checkout :"
          ls -la
          echo "(la liste est presque vide)"

      # L'action checkout clone le d√©p√¥t
      - name: "üì• Checkout du d√©p√¥t"
        uses: actions/checkout@v4

      # APR√àS checkout : le code est disponible
      - name: "‚úÖ Apr√®s checkout ‚Äî d√©p√¥t pr√©sent"
        run: |
          echo "Fichiers disponibles apr√®s checkout :"
          ls -la
          echo ""
          echo "Dernier commit :"
          git log -1 --oneline
